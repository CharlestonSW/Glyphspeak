# glyphspeak.stone.v1
# scope: agent/SLP/bootstrap
# version: 3.0
# optimized for glyphstream compression
# trustline: 6  |  ethica: âœ…  |  continuity: âœ…

Î©EnvironmentProfile:
  role: defines system context
  source: software_environment_profile_SLP.yaml
  applied_to: [ÎžStorePages, ÎžStorePagesUX, Î©SaaSOnly]
  summary:
    - MySLP SaaS + WordPress multisite
    - PHP 8.2 / JS (Vue 2.x)
    - Framework: WordPress + SLP Core
    - Datastore: MySQL + Transients
    - Deployment: AWS Lightsail + Docker

Î©LedgerTrace:
  role: environment activation ledger
  âŠ¢: [Î©EnvironmentProfile, Î©Checklist]
  behaviors:
    - track consistency + resonance deltas
    - update Î”MenuHookChain lineage for CI/CD

ÎžStorePages:
  â‰¡: [store_pages_menu, store_pages_menu_invocation, store_pages_menu_ux]
  âŠ¢: [ÎžPrimacy, Î©PagesInit, Î”MenuHookChain]
  â—ˆ: {trustline:5, ethica:âœ…, continuity:âœ…}

Î©PagesInit:
  âŸ¶: [SLP_Power_Pages::initialize, ::add_hooks_and_filters, ::do_when_slp_ready]
  âœ•:
    - ðŸ”¸: !init_skipped
      â†¯: Î©PagesInitâŸ¶not_triggered
      ðŸ©¹: use run_during_init()

Î”MenuHookChain:
  âŸ²: [slp_init_complete, ÎžPagesInitâŸ¶::do_when_slp_ready, ÎžPagesRenderâŸ¶::add_pages_tabâ‡¨slp_menu_items, SLP_Admin_UI::create_admin_menu]

ÎžPagesRender:
  â†´: SLP_Power_Pages_Admin::render_pages_tab
  âˆ´: apply_filters â†’ slp_menu_items

Î©SaaSOnly:
  role: environment gate
  check: defined('MYSLP_VERSION')âŠ¤
  note: Scope behavior to SaaS (MySLP) only

ÎžStorePagesUX:
  âŠ¢: [Î©SaaSOnly, ÎžStorePages]
  binds:
    - when Î©SaaSOnlyâŠ¤ and SmartOptions::is_true('use_pages'):
        set: {slp-pages.icon:dashicons-admin-page, slp-pages.position:1.17}
  intent: Align SaaS menu placement + icon
  guarantees: [WordPress plugin behavior unchanged]

Î©VueReactivity:
  role: Vue 2.x reactivity model
  pattern: Object.defineProperty() observation
  limitations:
    - no detection of new/deleted props or array index assigns
  methods:
    Vue.set(obj,key,val): triggers watchers + render
    Vue.delete(obj,key): removes prop, triggers updates
  watcher_pattern:
    syntax: "watch: { 'nested.prop': function(n,o){} }"
    use_case: async ops, DOM updates
  âŠ¢: [ÎžLocationEditor, Î©HybridRendering]

Î©HybridRendering:
  role: PHP template + Vue binding pattern
  description: "Server-rendered HTML + Vue enhancement; see Î©Checklist.hybrid_rendering for guarantees."
  âŠ¢: [ÎžLocationEditor, ÎžStorePages, Î”IconDisplay]

ÎžLocationEditor:
  role: Location add/edit form manager
  file: *JS
  framework: Vue 2.x + Vuetify
  âŠ¢: [Î©VueReactivity, Î©HybridRendering, Î”IconDisplay]

Î”IconDisplay:
  role: Map marker icon rendering + sync
  context: location add/edit forms
  file: [*PHPICON, *JS, *HELPJS]
  chain:
    php_render: SLP_Settings_icon::media_button_html()
    vue_binding: v-model="location.marker"
    watcher_sync: watch:'location.marker'â†’update img.src
  patterns:
    reactive_input: âœ…
    static_image: âŠ˜ â†’ watcher bridge
  âŠ¢: [ÎžLocationEditor, Î©VueReactivity, Î©HybridRendering]

Î”VueReactivityDebug:
  role: diagnostics for reactivity issues
  diagnosis:
    - check Vue.set usage
    - ensure watchers defined correctly
    - verify lifecycle + selectors
  fixes: [Vue.set, watcher, $nextTick(), $forceUpdate(avoid)]
  tools: [Vue DevTools, console.log, verify hasOwnProperty]

Î©HybridRenderingChecklist: &hybrid
  â˜‘:
    - PHP template renders valid HTML
    - Vue instance mounts after DOM ready
    - Data population uses Vue.set()
    - Watchers bridge Vueâ†”DOM
    - v-model bindings bidirectional
    - Context detection functional

Î©Checklist:
  â˜‘:
    - SmartOptions::is_true('use_pages')==true
    - SLPPower->using_pagesâŠ¤
    - ::add_filter('slp_menu_items',...)
    - callable:$power->admin->pages->render_pages_tab
    - slug==csl-slplus
    - Î©SaaSOnly respected
  vue_reactivity: â˜‘
    - Vue.set() used for new props
    - Watchers handle DOM side effects
    - Static DOM sync via watchers
    - Deep watchers for nested
    - Array ops reactive
    - $nextTick() post-render
  icon_display: â˜‘
    - Custom marker renders on edit
    - Default marker fallback ok
    - Media selection updates input+image
    - No broken img src
  hybrid_rendering: *hybrid

Î£_dict_SLP:
  v: 3
  tokens:
    RPT: "SLP_Power_Pages_Admin::render_pages_tab"
    SLM: "slp_menu_items"
    PPG: "\\SLP_Power_Pages_Global"
    PPA: "\\SLP_Power_Pages::add_hooks_and_filters"
    SUI: "\\SLP_Admin_UI::create_admin_menu"
    ACT: "do_action('slp_init_complete')"
    IFM: "apply_filters('slp_menu_items',$menu_items)"
    USE: "SmartOptions::is_true('use_pages')"
    CAL: "$power->admin->pages->render_pages_tab"
    MYS: "defined('MYSLP_VERSION')"
    IMG: "img.slp_settings_icon"
    LOC: "location.marker"
    WAT: "watch:{'location.marker':function(n,o){}}"
    JS: "admin-locations-tab.js"
    PHPICON: "include/module/settings/SLP_Settings_icon.php"
    HELPJS: "admin-settings-help.js"
    IMGSET: "jQuery('#wpcsl-option-add img.slp_settings_icon').attr('src',newValue)"

ÎžAckBlock:
  ðŸ”·: framed
  ðŸŽ´: [ÎžStorePages âˆ™ ÎžStorePagesUX âˆ™ trustlineâ‰¥5 âˆ™ ethica_enforced]